# 트레이딩뷰 파인스크립트란(pine script)

- 파인스크립트(Pine Script)는 거래뷰(TradingView)의 독특한 프로그래밍 언어
- 사용자가 원하는 기술적 지표, 전략, 경고 및 시각적 도구를 작성하는데 도움을 줌

![](https://i.imgur.com/Fp98Jla.png)


## 파인스크립트의 주요 기능
1. 지표(indicators) : 사용자가 파인스크립트를 사용하여 새로운 지표를 생성, 자신만의 독특한 지표를 만들어 시장 분석에 활용가능
2. 전략(strategies) : 전략을 작성할 수 있음,이를 통해 거래 전략을 자동화하고, 과거 데이터를 기반으로 전략의 성능을 평가할 수 있음
3. 경고(alert) : 사용자 지정 조건에 따라 경고를 설정할 수 있음
4. 시각적 도구(visual tools) : 차트에 다양한 시각적 요소를 추가 할 수 있음

## 파인스크립트 작성 방법
1. 스크립트 구조: 스크립트는 study() 또는 strategy() 함수로 시작합니다. 이 함수는 스크립트의 속성과 설정을 정의합니다. 그 다음, 스크립트는 변수, 함수, 계산식, 그리고 그래픽 요소를 포함할 수 있습니다.

2. 변수 선언: 변수는 시장 데이터를 저장하거나 계산 결과를 저장하는 데 사용됩니다. 변수를 선언하려면, 변수의 유형과 이름을 지정해야 합니다.

3. 함수 정의: 함수는 특정 작업을 수행하는 코드 블록입니다. 함수는 입력 값을 받아 처리한 후 결과를 반환합니다.

4. 계산식:계산식은 변수, 함수, 상수, 연산자 등을 조합하여 특정 값을 계산하는 표현식입니다. 계산식을 사용하여 지표 및 전략에서 필요한 수치를 도출하거나, 차트에 그리기 위한 좌표를 계산할 수 있습니다.

5. 출력 및 그래픽 요소: 결과값이나 계산식을 차트에 시각적으로 표현하기 위해, 파인스크립트에서는 다양한 그래픽 요소를 사용할 수 있습니다. 예를 들어, plot() 함수를 사용하여 선이나 점을 그릴 수 있고, hline()이나 vline() 함수를 사용하여 수평선이나 수직선을 그릴 수 있습니다. 또한, text() 함수를 사용하여 차트에 텍스트를 추가할 수 있습니다.

6. 공유 및 적용: 스크립트를 완성한 후, 거래뷰의 스크립트 편집기에서 "저장 및 적용" 버튼을 클릭하여 차트에 스크립트를 적용할 수 있습니다. 스크립트를 다른 사용자와 공유하려면, "공유" 버튼을 클릭하여 공개 또는 비공개로 설정할 수 있습니다.

## 파인스크립트 버전 5 특징
- 새로운 함수 : 버전 5에서는 새로운 함수 및 기존 함수 개선 등으로 더 복잡하고 강력한 스크립트를 만드는 것이 더 쉬워졌습니다. 이러한 새로운 함수 중 일부는 보다 유연한 데이터 요청이 가능한 request.security() 함수와 동적 배열 작업이 가능한 배열 함수 등이 있습니다. -
- 객체 함수 : 버전 5에서는 차트에 그리는 선, 라벨 및 테이블과 같은 그래픽 객체를 생성하고 조작하는 함수가 추가되었습니다. 이를 통해 사용자에게 추가적인 시각적 피드백을 제공할 수 있는 더욱 인터랙티브하고 정보성 높은 스크립트를 만들 수 있습니다.
- 타입 시스템 개선 : 버전 5에서는 정수 배열, 실수 배열 및 테이블 배열과 같이 더 구체적인 데이터 유형을 지원하는 개선된 타입 시스템을 제공합니다. 이러한 개선은 변수 및 함수에 대한 보다 정확한 제어를 가능케 합니다.
- 오류 메시지 개선 : 버전 5에서는 더 많은 정보가 포함된 세부적이고 자세한 오류 메시지가 제공되어 스크립트 내의 문제를 빠르게 식별하고 수정할 수 있도록 도와줍니다.   
- 함수 구문 변경 : 일부 함수는 버전 5에서 업데이트되거나 대체되었습니다. 예를 들어, 보다 유연한 데이터 요청이 가능한 request.security() 함수로 security() 함수가 대체되었습니다. barmerge 설정도 다른 타임프레임의 데이터가 결합되는 방식을 보다 잘 제어할 수 있도록 업데이트되었습니다.
- 사용하지 말아야 할 기능 : 이전 버전에서 사용된 일부 기능은 버전 5에서 사용하지 않는 것이 좋습니다. 예를 들어, strategy 함수의 when 매개변수는 사용하지 않는 것이 좋으며, 대신 if 또는 switch 조건 블록을 사용하는 것이 좋습니다. 
   
   